Go to Inventory > Configuration > Internal Reference Templates and set:

the sequence to be used for Internal Reference Prefix generation

the number of digits to be used for variants code (standard is 3)

Now go to product template, select an Internal Reference Template and generate an Internal Reference Prefix. Internal reference field is now read-only.

Each time a new variant is created for this product template, an internal reference is automatically assigned.

In settings > inventory > Default Internal Reference Template, select which template will be loaded automatically each time a new product template is created.

In user, enable extra rights:

- "Generate internal reference" to display "Generate" button in product template.

- "Internal reference template manager" to manage Internal Reference Templates in inventory > configuration menu and edit internal reference templates already assigned to a product template.
